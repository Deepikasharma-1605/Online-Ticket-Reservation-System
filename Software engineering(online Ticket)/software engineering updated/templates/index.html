{% extends "base.html" %}
{% block title %}Events - TicketApp{% endblock %}
{% block content %}
  <h1>Upcoming Events</h1>
  {% if events %}
    <div class="grid">
      {% for e in events %}
        <div class="card">
          <h3>{{ e['name'] }}</h3>
          <p><strong>Date:</strong> {{ e['date'] }}</p>
          <p><strong>Location:</strong> {{ e['location'] or 'TBA' }}</p>
          <p><strong>Price:</strong> {{ ('Free' if (e['price'] == 0 or e['price'] is none) else ('â‚¹' ~ e['price'])) }}</p>
          <div class="card-actions">
            {% if session.username %}
              <a class="btn" href="{{ url_for('book', event_id=e['id']) }}">Book</a>
            {% else %}
              <a class="btn" href="{{ url_for('register') }}">Login to Book</a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>No events found.</p>
  {% endif %}
{% endblock %}
